<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <title>CDN Test</title>
  <!--  <script src="../../dist/umd/data-structure-typed.min.js"></script>-->
  <script src='https://cdn.jsdelivr.net/npm/data-structure-typed/dist/umd/data-structure-typed.min.js'></script>
  <script src='https://unpkg.com/js-sdsl@4.4.2/dist/umd/js-sdsl.js'></script>
</head>
<body>
<div id='app'>
  <ul class='modules'>

  </ul>
</div>
<script defer>
  const $modules = document.querySelector('.modules');


  try {
    const queue = new Queue();
    for (let i = 0; i < 100000; i++) {
      queue.enqueue(i);
    }
    let last = 0;
    const startTime = performance.now();

    for (let i = 0; i < 100000; i++) {
      last = queue.dequeue();
    }

    console.log(performance.now() - startTime);

  } catch (e) {
    console.error(e);
  }
  try {
    const {AVLTree} = window.dataStructureTyped;
    const avlTree = new AVLTree();
    const $avlTree = document.createElement('li');
    const $avlTreeSpan = document.createElement('span');
    $avlTreeSpan.innerText = 'AVLTree';
    $avlTree.append($avlTreeSpan);
    for (let i = 1; i < 31; i++) {
      avlTree.add(i, i);
    }
    console.log(avlTree.bfs());
    // avlTree.print();
    $modules.append($avlTree);
  } catch (e) {
    console.error(e);
  }

  try {
    const {BinaryTree} = dataStructureTyped;
    const tree = new BinaryTree();
    tree.add(3);
    tree.add(12);
    tree.addMany([1, 6, 9, 8, 5, 2, 3, 4, 7])
    tree.add(10);
    console.log(tree.isPerfectlyBalanced());
    tree.print();

    const node3 = tree.getNode(3);
    if (node3) node3.right = tree.createNode(1);
    console.log(tree.isPerfectlyBalanced());
    tree.print();

    tree.clear();
    tree.addMany([1, null, 2, null, 3, null, 4, null, 5, null, 6, null]);
    console.log(tree.isPerfectlyBalanced());
    tree.print();
  } catch (e) {
    console.error(e);
  }


  try {
    const {OrderedMap} = sdsl;
    const {RedBlackTree} = dataStructureTyped;
    const cTree = new OrderedMap();
    const tree = new RedBlackTree();
    const tS = performance.now();
    for (let i = 1; i < 1000000; i++) {
      tree.add(i, i);
    }
    console.log(performance.now() - tS);
    console.log(tree.size);
    const cS = performance.now();
    for (let i = 1; i < 1000000; i++) {
      cTree.setElement(i, i);
    }
    console.log(performance.now() - cS);
    console.log(cTree.size());

    // console.log(tree.isPerfectlyBalanced());
    // tree.print();

  } catch (e) {
    console.error(e);
  }

  try {
    const {PriorityQueue: CPriorityQueue} = sdsl;
    const {PriorityQueue} = dataStructureTyped;
    const pq = new PriorityQueue({comparator: (a, b) => b - a});

    const tS = performance.now();

    for (let i = 0; i < 1000000; i++) {
      pq.add(i);
    }

    for (let i = 0; i < 10000; i++) {
      pq.pop();
    }
    console.log(performance.now() - tS);
    console.log(pq.size);
    const cS = performance.now();
    const cpq = new CPriorityQueue();

    for (let i = 0; i < 1000000; i++) {
      cpq.push(i);
    }

    for (let i = 0; i < 10000; i++) {
      cpq.pop();
    }
    console.log(performance.now() - cS);
    console.log(cpq.size());
  } catch (e) {
    console.error(e);
  }
</script>

</body>
</html>

